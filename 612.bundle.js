(self.webpackChunkfec=self.webpackChunkfec||[]).push([[612],{3612:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>Z});var n=r(7294),a=r(9669),l=r.n(a),o=r(1946),i=r(548),c=r(3754),u=r(9503),s=function(e){var t="/proxy/api/fec2/hratx/reviews/".concat(e.target.id,"/report");l().put(t).catch((function(e){console.log(e)}))};function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,a=!1,l=void 0;try{for(var o,i=e[Symbol.iterator]();!(n=(o=i.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,l=e}finally{try{n||null==i.return||i.return()}finally{if(a)throw l}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const f=function(e){var t=e.productId,r=e.characteristics,a=(e.setReviews,e.reviews,m((0,n.useState)(!1),2)),s=a[0],d=a[1],f=m((0,n.useState)(0),2),v=f[0],p=f[1],y=function(){return d(!1)},h={product_id:t,rating:v,photos:[]},E=Object.keys(r);h.characteristics={};var b=function(e){var t=e.target.id.split(" ");h.characteristics[t[1]]=t[0]};return n.createElement("div",null,n.createElement("button",{className:"d-bold d-border-button",onClick:function(){return d(!0)}},"Add A Review"),n.createElement(o.Z,{show:s,onHide:y,dialogClassName:"jModal",size:"lg"},n.createElement(o.Z.Title,null,"Write a review")," ",n.createElement("br",null),n.createElement(o.Z.Body,null,n.createElement(i.Z,{onSubmit:function(e){var t;e.preventDefault(),y(),t=h,l().post("proxy/api/fec2/hratx/reviews/",t).catch((function(e){throw e}))}},n.createElement(i.Z.Label,{required:!0,as:"legend",style:{fontSize:"18px"}},"Overall Rating*"),n.createElement(u.Z,{required:!0,feedback:"Required",rating:v,starRatedColor:"#394a6d",numberOfStars:5,name:"rating",starDimension:"20px",changeRating:function(e){p(e)}})," ",n.createElement("br",null),n.createElement("br",null),n.createElement(i.Z.Group,{required:!0,feedback:"Required",onChange:function(e){"Yes"===e.target.id?h.recommend=!0:h.recommend=!1}},n.createElement(i.Z.Label,{as:"legend",style:{fontSize:"18px"}},"Do you recommend this product?*"),["Yes","No"].map((function(e){return n.createElement(i.Z.Check,{key:e,inline:!0,name:"recommend",type:"radio",id:e,label:e})}))),E.map((function(e){return n.createElement("div",{key:e},n.createElement(i.Z.Group,{required:!0,feedback:"Required",onChange:b},n.createElement(i.Z.Label,{as:"legend",style:{fontSize:"18px"}},e,"* "),["1","2","3","4","5"].map((function(t){return n.createElement(i.Z.Check,{key:t+r[e].id,inline:!0,name:e,type:"radio",id:t+" "+r[e].id,label:t})}))),n.createElement("br",null))})),n.createElement(i.Z.Group,null,n.createElement(i.Z.Label,{as:"legend",style:{fontSize:"18px"}},"Add a summary"),n.createElement(i.Z.Control,{type:"text",placeholder:"Example: Best purchase ever!",onChange:function(e){h.summary=e.target.value}})),n.createElement("br",null),n.createElement(i.Z.Group,null,n.createElement(i.Z.Label,{as:"legend",style:{fontSize:"18px"}},"Add a written review*"),n.createElement(i.Z.Control,{required:!0,type:"text",as:"textarea",placeholder:"Why did you like the product or not?",onChange:function(e){h.body=e.target.value}})),n.createElement(i.Z.Group,null,n.createElement(i.Z.Label,{as:"legend",style:{fontSize:"18px"}},"What is your nickname?*"),n.createElement(i.Z.Control,{required:!0,type:"text",placeholder:"Example: jackson11!",onChange:function(e){h.name=e.target.value}})),n.createElement(i.Z.Group,null,n.createElement(i.Z.Label,{as:"legend",style:{fontSize:"18px"}},"Your email*"),n.createElement(i.Z.Control,{required:!0,type:"email",placeholder:"Example: jackson11@email.com",onChange:function(e){h.email=e.target.value}}),"For authentication reasons, you will not be emailed"),n.createElement("br",null),n.createElement(c.Z,{variant:"secondary",onClick:function(){return d(!1)}},"Close"),n.createElement(c.Z,{type:"submit",variant:"primary"},"Submit")))))};function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,a=!1,l=void 0;try{for(var o,i=e[Symbol.iterator]();!(n=(o=i.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,l=e}finally{try{n||null==i.return||i.return()}finally{if(a)throw l}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var y=function(e){e.counter;var t=e.result,r=(e.date,v((0,n.useState)(t.helpfulness),2)),a=r[0],o=r[1],i=v((0,n.useState)(!1),2),c=i[0],m=i[1];return n.createElement("div",{className:"IndividualReview",key:t.review_id},n.createElement("div",{className:"jStars"},n.createElement(u.Z,{rating:t.rating,starRatedColor:"#394a6d",numberOfStars:5,name:"rating",starDimension:"20px"})),n.createElement("div",{className:"jDate"},t.reviewer_name+" "+t.date),n.createElement("br",null),n.createElement("div",{className:"ReviewText"},n.createElement("strong",null,t.summary),n.createElement("div",null,t.body),!!t.response&&n.createElement("div",{id:"jResponse"},t.response),n.createElement("div",{id:"helpfulAndReport"},"Helpful? ",n.createElement("span",{onClick:function(e){m(!0),t.helpfulness++,o(t.helpfulness),function(e){var t="/proxy/api/fec2/hratx/reviews/".concat(e.target.id,"/helpful");l().put(t).catch((function(e){console.log(e)}))}(e)},className:"d-underlined",id:t.review_id},"Yes")," ",c?a:t.helpfulness," | ",n.createElement("span",{onClick:s,className:"d-underlined",id:t.review_id},"Report"))))};function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var E=(0,n.createContext)({sortMethod:"relevance",setSortMethod:function(e){}}),b=function(e){var t,r,a=e.children,l=(t=(0,n.useState)("relevance"),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,a=!1,l=void 0;try{for(var o,i=e[Symbol.iterator]();!(n=(o=i.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,l=e}finally{try{n||null==i.return||i.return()}finally{if(a)throw l}}return r}}(t,r)||function(e,t){if(e){if("string"==typeof e)return h(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?h(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=l[0],i=l[1];return n.createElement(E.Provider,{value:{sortMethod:o,setSortMethod:i}},a)},g=r(2024);function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,a=!1,l=void 0;try{for(var o,i=e[Symbol.iterator]();!(n=(o=i.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,l=e}finally{try{n||null==i.return||i.return()}finally{if(a)throw l}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return S(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?S(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var x=function(){var e=(0,n.useContext)(E),t=e.setSortMethod;return e.sortMethod,n.createElement("div",null,"Sort reviews by: ",n.createElement("select",{onChange:function(e){t(e.target.value.toLowerCase())},className:"form-select row w-100","aria-label":"sort reviews, select option"},n.createElement("option",null,"Relevance"),n.createElement("option",null,"Helpfulness"),n.createElement("option",null,"Newest")))},C=function(e){var t=(0,n.useContext)(g.H).curProduct,r=w((0,n.useState)(n.createElement("div",null,"Loading reviews...")),2),a=r[0],o=r[1],i=w((0,n.useState)(2),2),c=i[0],u=i[1],s=(0,n.useContext)(E).sortMethod,m=["January","February","March","April","May","June","July","August","September","October","November","December"];return(0,n.useEffect)((function(){var e,r;(e=t.id,r="/proxy/api/fec2/hratx/reviews/?product_id="+e,l().get(r).then((function(e){return e})).catch((function(e){throw e}))).then((function(e){e=function(e,t){return"helpfulness"===t?e.sort((function(e,t){return t.helpfulness-e.helpfulness})):"newest"===t?e.sort((function(e,t){return t.review_id-e.review_id})):"relevance"===t?e.sort((function(e,t){return t.review_id/1e3+t.helpfulness-(e.review_id/1e3+e.helpfulness)})):e}(e.data.results,s),o(e.map((function(e,t){e.dateForSort=e.date;var r=new Date(e.date);if(e.date=m[r.getMonth()]+" "+(parseInt(r.getDate())+1)+", "+r.getFullYear(),t<c)return n.createElement(y,{counter:t,result:e,date:r,key:t})})))})).catch((function(e){throw e}))}),[c,s,t]),n.createElement(n.Fragment,null,n.createElement("div",{className:"ReviewList"},n.createElement(x,null),n.createElement("div",null,a)),n.createElement("div",{className:"jButtonContainer"},n.createElement(f,{productId:t.id,characteristics:e.characteristics}),a.length>c?n.createElement("button",{className:"d-bold d-border-button",onClick:function(){u(c+2)}},"More Reviews"):n.createElement("button",{disabled:!0,className:"d-bold d-border-button",onClick:function(){u(c+2)}},"More Reviews")))};const A=function(e){for(var t=0,r=0,n=0,a=1;a<6;a++)e[a]&&(t+=e[a]*a,r+=parseInt(e[a]));return t&&r&&(n=t/r),{ratingAverage:n,total:t,ratingsCount:r}},j=function(e){var t=e.allRatings,r=A(t).ratingAverage;return n.createElement("div",null,n.createElement("b",null,"Ratings & Reviews "),n.createElement("div",{className:"RatingSummary"},n.createElement("div",{className:"jstars"},n.createElement(u.Z,{rating:r||0,starRatedColor:"#394a6d",numberOfStars:5,name:"rating",starDimension:"20px"})),n.createElement("div",{className:"overallRating"},r.toFixed(1))))},N=function(e){for(var t=e.allRatings,r=e.recommend,a=A(t),l=[],o=1;o<6;o++)t[o]||(t[o]=0),l.unshift(t[o]/a.ratingsCount*100);var i=6;r.true=parseInt(r.true),r.false=parseInt(r.false);var c=100;return(r.true||r.false)&&(c=r.true/(r.true+r.false)*100),n.createElement("div",null,isNaN(c)?100:Math.round(c),"% of users recommend this item.",n.createElement("div",{className:"jbarGraph"},n.createElement("div",{className:"row"},l.map((function(e){return i--,n.createElement(n.Fragment,{key:i},n.createElement("div",{className:"side"},n.createElement("div",{className:"jXAxis"},i," stars")),n.createElement("div",{className:"middle"},n.createElement("div",{className:"jbar-container"},n.createElement("div",{className:"jbars",style:{width:"".concat(e||0,"%")}})))," ",n.createElement("br",null))})))))},k=function(e){var t=e.characteristics,r=[];for(var a in t)r.push([a,20*t[a].value]);return n.createElement("div",{className:"jbarGraph"},n.createElement("div",{className:"row"},r.map((function(e,t){return n.createElement(n.Fragment,{key:t},n.createElement("div",{className:"side"},n.createElement("div",{className:"jXAxis"},e[0],": ",e[1]?(e[1]/20).toFixed(1):0)),n.createElement("div",{className:"middle"},n.createElement("div",{className:"jMarkerContainer"},n.createElement("div",{style:{marginLeft:"".concat(e[1]-5,"%")}},n.createElement("span",{className:"jmarker"},"▼"))),["Length","Size","Width"].includes(e[0])?n.createElement("div",null,n.createElement("span",null,"Too Small"),n.createElement("span",{style:{float:"right"}},"Too Big")):n.createElement("div",null,n.createElement("span",null,"Poor"),n.createElement("span",{style:{float:"right"}},"Great")))," ",n.createElement("br",null))}))))};function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const Z=function(){var e,t,r=(0,n.useContext)(g.H).curProduct,a=(e=(0,n.useState)(void 0),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,a=!1,l=void 0;try{for(var o,i=e[Symbol.iterator]();!(n=(o=i.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,l=e}finally{try{n||null==i.return||i.return()}finally{if(a)throw l}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return R(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?R(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=a[0],i=a[1];return(0,n.useEffect)((function(){var e,t;(e=r.id,t="/proxy/api/fec2/hratx/reviews/meta?product_id="+e,l().get(t).catch((function(e){throw e}))).then((function(e){i(e.data)})).catch((function(e){throw e}))}),[r]),o?n.createElement("div",{className:"jcontainer"},n.createElement(b,null,n.createElement(C,{characteristics:o.characteristics})),n.createElement("div",{className:"ReviewSideBar"},n.createElement("div",{className:"SideBarContainer"},n.createElement(j,{allRatings:o.ratings}),n.createElement(N,{allRatings:o.ratings,recommend:o.recommended}),n.createElement(k,{characteristics:o.characteristics})))):n.createElement("div",null,"Loading...")}}}]);